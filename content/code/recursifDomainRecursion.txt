function sparqleeFilterDomainCalculation(filterExpression, setOperator, datatype, variable, domain) {
  if (isABooleanExpression(filterExpression)) {
    if (filterExpression.variable == variable) {
        subdomain = convertFilterExpressionToSubDomain(filterExpression)
    if (!isCompatible(subdomain.datatype, datatype)) {
        throw Error
    }
    domain = domain.add(subdomain, setOperator)
    }else {
        domain = domain.add(INFINITE_SUBDOMAIN, setOperator)
    }
  } else {
    newSetOperator = filterExpression
    domain = sparqleeFilterDomainCalculation(filterExpression.next, newSetOperator, datatype, variable, domain);  
  }
  return domain;
}
